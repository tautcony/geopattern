!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).GeoPattern=t()}(function(){return function i(s,a,l){function c(e,t){if(!a[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return c(s[e][1][t]||t)},o,o.exports,i,s,a,l)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rgb2rgbString=r.hsl2rgb=r.rgb2hsl=r.rgb2hex=r.hex2rgb=void 0,r.hex2rgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,n){return e+e+r+r+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},r.rgb2hex=function(e){return"#"+["r","g","b"].map(function(t){return("0"+e[t].toString(16)).slice(-2)}).join("")},r.rgb2hsl=function(t){var e=t.r,r=t.g,n=t.b;e/=255,r/=255,n/=255;var o,i=Math.max(e,r,n),s=Math.min(e,r,n),a=(i+s)/2;if(i===s)o=c=0;else{var l=i-s,c=.5<a?l/(2-i-s):l/(i+s);switch(i){case e:o=(r-n)/l+(r<n?6:0);break;case r:o=(n-e)/l+2;break;case n:o=(e-r)/l+4}o/=6}return{h:o,s:c,l:a}},r.hsl2rgb=function(t){function e(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var r,n,o,i,s,a=t.h,l=t.s,c=t.l;return 0===l?o=i=s=c:(o=e(n=2*c-(r=c<.5?c*(1+l):c+l-c*l),r,a+1/3),i=e(n,r,a),s=e(n,r,a-1/3)),{r:Math.round(255*o),g:Math.round(255*i),b:Math.round(255*s)}},r.rgb2rgbString=function(t){return"rgb("+t.r+","+t.g+","+t.b+")"}},{}],2:[function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var o=t("./sha1"),i=t("./patterns/util"),s=t("./patterns"),a={octogons:s.Octogons,overlappingCircles:s.OverlappingCircles,plusSigns:s.PlusSigns,xes:s.Xes,sineWaves:s.SineWaves,hexagons:s.Hexagons,overlappingRings:s.OverlappingRings,plaid:s.Plaid,triangles:s.Triangles,squares:s.Squares,concentricCircles:s.ConcentricCircles,diamonds:s.Diamonds,tessellation:s.Tessellation,nestedSquares:s.NestedSquares,mosaicSquares:s.MosaicSquares,chevrons:s.Chevrons},l=(Object.defineProperty(c.prototype,"Pattern",{get:function(){return this.pattern},enumerable:!1,configurable:!0}),c);function c(t,e){(e=n({},e)).hash=e.hash||o.default(t);var r=e.generator;if(r){if(Object.keys(a).indexOf(r)<0)throw new Error("The generator "+r+"  does not exist.")}else r=Object.keys(a)[i.hexVal(e.hash,20)];this.pattern=new a[r](t,e),this.pattern.generateBackground(),this.pattern.generate()}r.default=l;var u=t("./patterns");Object.defineProperty(r,"Pattern",{enumerable:!0,get:function(){return u.Pattern}})},{"./patterns":7,"./patterns/util":20,"./sha1":22}],3:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),u=t("./util"),a=(i=s.default,o(h,i),h.buildChevronShape=function(t,e){var r=.66*e;return[[0,0,t/2,e-r,t/2,e,0,r,0,0],[t/2,e-r,t,0,t,r,t/2,e,t/2,e-r]].map(function(t){return t.join(",")})},h.prototype.generate=function(){var t,e,r,n,o,i,s,a=u.map(u.hexVal(this.hash,0),0,15,30,80),l=u.map(u.hexVal(this.hash,0),0,15,30,80),c=h.buildChevronShape(a,l);for(this.svg.setWidth(6*a),this.svg.setHeight(6*l*.66),s=e=0;s<6;s++)for(i=0;i<6;i++)o=u.hexVal(this.hash,e),r=u.fillOpacity(o),t=u.fillColor(o),n={stroke:u.STROKE_COLOR,"stroke-opacity":u.STROKE_OPACITY,fill:t,"fill-opacity":r,"stroke-width":1},this.svg.group(n).transform({translate:[i*a,s*l*.66-l/2]}).polyline(c).end(),0===s&&this.svg.group(n).transform({translate:[i*a,6*l*.66-l/2]}).polyline(c).end(),e+=1},h);function h(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],4:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),c=t("./util"),a=(i=s.default,o(l,i),l.prototype.generate=function(){var t,e,r,n,o,i,s=c.hexVal(this.hash,0),a=c.map(s,0,15,10,60),l=a/5;for(this.svg.setWidth(6*(a+l)),this.svg.setHeight(6*(a+l)),i=e=0;i<6;i++)for(o=0;o<6;o++)n=c.hexVal(this.hash,e),r=c.fillOpacity(n),t=c.fillColor(n),this.svg.circle(o*a+o*l+(a+l)/2,i*a+i*l+(a+l)/2,a/2,{fill:"none",stroke:t,opacity:r,"stroke-width":l+"px"}),n=c.hexVal(this.hash,39-e),r=c.fillOpacity(n),t=c.fillColor(n),this.svg.circle(o*a+o*l+(a+l)/2,i*a+i*l+(a+l)/2,a/4,{fill:t,"fill-opacity":r}),e+=1},l);function l(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],5:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),u=t("./util"),a=(i=s.default,o(h,i),h.buildDiamondShape=function(t,e){return[t/2,0,t,e/2,t/2,e,0,e/2].join(",")},h.prototype.generate=function(){var t,e,r,n,o,i,s,a=u.map(u.hexVal(this.hash,0),0,15,10,50),l=u.map(u.hexVal(this.hash,1),0,15,10,50),c=h.buildDiamondShape(a,l);for(this.svg.setWidth(6*a),this.svg.setHeight(3*l),s=e=0;s<6;s++)for(i=0;i<6;i++)o=u.hexVal(this.hash,e),r=u.fillOpacity(o),n={fill:u.fillColor(o),"fill-opacity":r,stroke:u.STROKE_COLOR,"stroke-opacity":u.STROKE_OPACITY},t=s%2==0?0:a/2,this.svg.polyline(c,n).transform({translate:[i*a-a/2+t,l/2*s-l/2]}),0===i&&this.svg.polyline(c,n).transform({translate:[6*a-a/2+t,l/2*s-l/2]}),0===s&&this.svg.polyline(c,n).transform({translate:[i*a-a/2+t,l/2*6-l/2]}),0===i&&0===s&&this.svg.polyline(c,n).transform({translate:[6*a-a/2+t,l/2*6-l/2]}),e+=1},h);function h(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],6:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),f=t("./util"),a=(i=s.default,o(p,i),p.buildHexagonShape=function(t){var e=t,r=e/2,n=Math.sin(60*Math.PI/180)*e;return[0,n,r,0,r+e,0,2*e,n,r+e,2*n,r,2*n,0,n].join(",")},p.prototype.generate=function(){var t,e,r,n,o,i,s,a=f.hexVal(this.hash,0),l=f.map(a,0,15,8,60),c=l*Math.sqrt(3),u=2*l,h=p.buildHexagonShape(l);for(this.svg.setWidth(3*u+3*l),this.svg.setHeight(6*c),s=e=0;s<6;s++)for(i=0;i<6;i++)o=f.hexVal(this.hash,e),t=i%2==0?s*c:s*c+c/2,r=f.fillOpacity(o),n={fill:f.fillColor(o),"fill-opacity":r,stroke:f.STROKE_COLOR,"stroke-opacity":f.STROKE_OPACITY},this.svg.polyline(h,n).transform({translate:[i*l*1.5-u/2,t-c/2]}),0===i&&this.svg.polyline(h,n).transform({translate:[6*l*1.5-u/2,t-c/2]}),0===s&&(t=i%2==0?6*c:6*c+c/2,this.svg.polyline(h,n).transform({translate:[i*l*1.5-u/2,t-c/2]})),0===i&&0===s&&this.svg.polyline(h,n).transform({translate:[6*l*1.5-u/2,5*c+c/2]}),e++},p);function p(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Xes=r.Triangles=r.Tessellation=r.Squares=r.SineWaves=r.PlusSigns=r.Plaid=r.OverlappingRings=r.OverlappingCircles=r.Octogons=r.NestedSquares=r.MosaicSquares=r.Hexagons=r.Diamonds=r.ConcentricCircles=r.Chevrons=r.Pattern=void 0;var n=t("./chevrons");r.Chevrons=n.default;var o=t("./concentric-circles");r.ConcentricCircles=o.default;var i=t("./diamonds");r.Diamonds=i.default;var s=t("./hexagons");r.Hexagons=s.default;var a=t("./mosaic-squares");r.MosaicSquares=a.default;var l=t("./nested-squares");r.NestedSquares=l.default;var c=t("./octogons");r.Octogons=c.default;var u=t("./overlapping-circles");r.OverlappingCircles=u.default;var h=t("./overlapping-rings");r.OverlappingRings=h.default;var f=t("./pattern");r.Pattern=f.default;var p=t("./plaid");r.Plaid=p.default;var v=t("./plus-signs");r.PlusSigns=v.default;var g=t("./sine-waves");r.SineWaves=g.default;var d=t("./squares");r.Squares=d.default;var y=t("./tessellation");r.Tessellation=y.default;var _=t("./triangles");r.Triangles=_.default;var O=t("./xes");r.Xes=O.default},{"./chevrons":3,"./concentric-circles":4,"./diamonds":5,"./hexagons":6,"./mosaic-squares":8,"./nested-squares":9,"./octogons":10,"./overlapping-circles":11,"./overlapping-rings":12,"./pattern":13,"./plaid":14,"./plus-signs":15,"./sine-waves":16,"./squares":17,"./tessellation":18,"./triangles":19,"./xes":21}],8:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),c=t("./util"),a=(i=s.default,o(u,i),u.buildRightTriangleShape=function(t){return[0,0,t,t,0,t,0,0].join(",")},u.drawOuterMosaicTile=function(t,e,r,n,o){var i=c.fillOpacity(o),s=c.fillColor(o),a=u.buildRightTriangleShape(n),l={stroke:c.STROKE_COLOR,"stroke-opacity":c.STROKE_OPACITY,"fill-opacity":i,fill:s};t.polyline(a,l).transform({translate:[e,r+n],scale:[1,-1]}),t.polyline(a,l).transform({translate:[e+2*n,r+n],scale:[-1,-1]}),t.polyline(a,l).transform({translate:[e,r+n],scale:[1,1]}),t.polyline(a,l).transform({translate:[e+2*n,r+n],scale:[-1,1]})},u.drawInnerMosaicTile=function(t,e,r,n,o){var i=u.buildRightTriangleShape(n),s=c.fillOpacity(o[0]),a=c.fillColor(o[0]),l={stroke:c.STROKE_COLOR,"stroke-opacity":c.STROKE_OPACITY,"fill-opacity":s,fill:a};t.polyline(i,l).transform({translate:[e+n,r],scale:[-1,1]}),t.polyline(i,l).transform({translate:[e+n,r+2*n],scale:[1,-1]}),s=c.fillOpacity(o[1]),a=c.fillColor(o[1]),l={stroke:c.STROKE_COLOR,"stroke-opacity":c.STROKE_OPACITY,"fill-opacity":s,fill:a},t.polyline(i,l).transform({translate:[e+n,r+2*n],scale:[-1,-1]}),t.polyline(i,l).transform({translate:[e+n,r],scale:[1,1]})},u.prototype.generate=function(){var t,e,r,n=c.map(c.hexVal(this.hash,0),0,15,15,50);for(this.svg.setWidth(8*n),this.svg.setHeight(8*n),r=t=0;r<4;r++)for(e=0;e<4;e++)e%2==0?r%2==0?u.drawOuterMosaicTile(this.svg,e*n*2,r*n*2,n,c.hexVal(this.hash,t)):u.drawInnerMosaicTile(this.svg,e*n*2,r*n*2,n,[c.hexVal(this.hash,t),c.hexVal(this.hash,t+1)]):r%2==0?u.drawInnerMosaicTile(this.svg,e*n*2,r*n*2,n,[c.hexVal(this.hash,t),c.hexVal(this.hash,t+1)]):u.drawOuterMosaicTile(this.svg,e*n*2,r*n*2,n,c.hexVal(this.hash,t)),t+=1},u);function u(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],9:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),l=t("./util"),a=(i=s.default,o(c,i),c.prototype.generate=function(){var t,e,r,n,o,i,s=l.map(l.hexVal(this.hash,0),0,15,4,12),a=7*s;for(this.svg.setWidth(6*(a+s)+6*s),this.svg.setHeight(6*(a+s)+6*s),i=t=0;i<6;i++)for(o=0;o<6;o++)n=l.hexVal(this.hash,t),e=l.fillOpacity(n),r={fill:"none",stroke:l.fillColor(n),opacity:e,"stroke-width":s+"px"},this.svg.rect(o*a+o*s*2+s/2,i*a+i*s*2+s/2,a,a,r),n=l.hexVal(this.hash,39-t),e=l.fillOpacity(n),r={fill:"none",stroke:l.fillColor(n),opacity:e,"stroke-width":s+"px"},this.svg.rect(o*a+o*s*2+s/2+2*s,i*a+i*s*2+s/2+2*s,3*s,3*s,r),t+=1},c);function c(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],10:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),l=t("./util"),a=(i=s.default,o(c,i),c.buildOctogonShape=function(t){var e=.33*t;return[e,0,t-e,0,t,e,t,t-e,t-e,t,e,t,0,t-e,0,e,e,0].join(",")},c.prototype.generate=function(){var t,e,r,n,o,i,s=l.map(l.hexVal(this.hash,0),0,15,10,60),a=c.buildOctogonShape(s);for(this.svg.setWidth(6*s),this.svg.setHeight(6*s),i=e=0;i<6;i++)for(o=0;o<6;o++)n=l.hexVal(this.hash,e),r=l.fillOpacity(n),t=l.fillColor(n),this.svg.polyline(a,{fill:t,"fill-opacity":r,stroke:l.STROKE_COLOR,"stroke-opacity":l.STROKE_OPACITY}).transform({translate:[o*s,i*s]}),e+=1},c);function c(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],11:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),l=t("./util"),a=(i=s.default,o(c,i),c.prototype.generate=function(){var t,e,r,n,o,i,s=l.hexVal(this.hash,0),a=l.map(s,0,15,25,200)/2;for(this.svg.setWidth(6*a),this.svg.setHeight(6*a),i=t=0;i<6;i++)for(o=0;o<6;o++)n=l.hexVal(this.hash,t),e=l.fillOpacity(n),r={fill:l.fillColor(n),opacity:e},this.svg.circle(o*a,i*a,a,r),0===o&&this.svg.circle(6*a,i*a,a,r),0===i&&this.svg.circle(o*a,6*a,a,r),0===o&&0===i&&this.svg.circle(6*a,6*a,a,r),t++},c);function c(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],12:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),c=t("./util"),a=(i=s.default,o(l,i),l.prototype.generate=function(){var t,e,r,n,o,i,s=c.hexVal(this.hash,0),a=c.map(s,0,15,10,60),l=a/4;for(this.svg.setWidth(6*a),this.svg.setHeight(6*a),i=t=0;i<6;i++)for(o=0;o<6;o++)n=c.hexVal(this.hash,t),e=c.fillOpacity(n),r={fill:"none",stroke:c.fillColor(n),opacity:e,"stroke-width":l+"px"},this.svg.circle(o*a,i*a,a-l/2,r),0===o&&this.svg.circle(6*a,i*a,a-l/2,r),0===i&&this.svg.circle(o*a,6*a,a-l/2,r),0===o&&0===i&&this.svg.circle(6*a,6*a,a-l/2,r),t+=1},l);function l(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],13:[function(c,t,u){(function(r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0});var o=c("../color"),i=c("../sha1"),s=c("./util"),a=c("../svg"),l={baseColor:"#933c3c"},t=(e.buildPlusShape=function(t){return[[t,0,t,3*t],[0,t,3*t,t]]},e.prototype.toSvg=function(){return this.svg.toString()},e.prototype.toString=function(){return this.toSvg()},e.prototype.toBase64=function(){var t=this.toSvg(),e="undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(t):new r(t).toString("base64");return e},e.prototype.toDataUri=function(){return"data:image/svg+xml;base64,"+this.toBase64()},e.prototype.toDataUrl=function(){return'url("'+this.toDataUri()+'")'},e.prototype.generateBackground=function(){var t,e,r,n=this.opts.color?o.hex2rgb(this.opts.color):(e=s.map(s.hexVal(this.hash,14,3),0,4095,0,359),r=s.hexVal(this.hash,17),(t=o.rgb2hsl(o.hex2rgb(this.opts.baseColor))).h=(360*t.h-e+360)%360/360,t.s=r%2==0?Math.min(1,(100*t.s+r)/100):Math.max(0,(100*t.s-r)/100),o.hsl2rgb(t));this.color=o.rgb2hex(n),this.svg.rect(0,0,"100%","100%",{fill:o.rgb2rgbString(n)})},e);function e(t,e){this.opts=n(n({},l),e),this.hash=this.opts.hash||i.default(t),this.svg=new a.default}u.default=t}).call(this,c("buffer").Buffer)},{"../color":1,"../sha1":22,"../svg":23,"./util":20,buffer:25}],14:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),l=t("./util"),a=(i=s.default,o(c,i),c.prototype.generate=function(){for(var t,e,r,n,o,i=0,s=0,a=0;a<36;)i+=l.hexVal(this.hash,a)+5,o=l.hexVal(this.hash,a+1),e=l.fillOpacity(o),t=l.fillColor(o),r=o+5,this.svg.rect(0,i,"100%",r,{opacity:e,fill:t}),i+=r,a+=2;for(a=0;a<36;)s+=l.hexVal(this.hash,a)+5,o=l.hexVal(this.hash,a+1),e=l.fillOpacity(o),t=l.fillColor(o),n=o+5,this.svg.rect(s,0,n,"100%",{opacity:e,fill:t}),s+=n,a+=2;this.svg.setWidth(s),this.svg.setHeight(i)},c);function c(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],15:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),u=t("./util"),a=(i=s.default,o(h,i),h.prototype.generate=function(){var t,e,r,n,o,i,s,a=u.map(u.hexVal(this.hash,0),0,15,10,25),l=3*a,c=h.buildPlusShape(a);for(this.svg.setWidth(12*a),this.svg.setHeight(12*a),s=e=0;s<6;s++)for(i=0;i<6;i++)o=u.hexVal(this.hash,e),r=u.fillOpacity(o),t=s%2==0?0:1,n={fill:u.fillColor(o),stroke:u.STROKE_COLOR,"stroke-opacity":u.STROKE_OPACITY,"fill-opacity":r},this.svg.group(n).transform({translate:[i*l-i*a+t*a-a,s*l-s*a-l/2]}).rect(c).end(),0===i&&this.svg.group(n).transform({translate:[4*l-i*a+t*a-a,s*l-s*a-l/2]}).rect(c).end(),0===s&&this.svg.group(n).transform({translate:[i*l-i*a+t*a-a,4*l-s*a-l/2]}).rect(c).end(),0===i&&0===s&&this.svg.group(n).transform({translate:[4*l-i*a+t*a-a,4*l-s*a-l/2]}).rect(c).end(),e++},h);function h(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],16:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),c=t("./util"),a=(i=s.default,o(l,i),l.prototype.generate=function(){var t=Math.floor(c.map(c.hexVal(this.hash,0),0,15,100,400)),e=Math.floor(c.map(c.hexVal(this.hash,1),0,15,30,100)),r=Math.floor(c.map(c.hexVal(this.hash,2),0,15,3,30));this.svg.setWidth(t),this.svg.setHeight(36*r);for(var n=0;n<36;n++){var o=c.hexVal(this.hash,n),i=c.fillOpacity(o),s=t/4*.7,a={fill:"none",stroke:c.fillColor(o),opacity:i,"stroke-width":r+"px"},l=["M0 "+e,"C "+s+" 0, "+(t/2-s)+" 0, "+t/2+" "+e,"S "+(t-s)+" "+2*e+", "+t+" "+e,"S "+(1.5*t-s)+" 0, "+1.5*t+", "+e].join(" ");this.svg.path(l,a).transform({translate:[-t/4,r*n-1.5*e]}),this.svg.path(l,a).transform({translate:[-t/4,r*n-1.5*e+36*r]})}},l);function l(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],17:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),a=t("./util"),l=(i=s.default,o(c,i),c.prototype.generate=function(){var t,e,r,n,o,i,s=a.map(a.hexVal(this.hash,0),0,15,10,60);for(this.svg.setWidth(6*s),this.svg.setHeight(6*s),i=e=0;i<6;i++)for(o=0;o<6;o++)n=a.hexVal(this.hash,e),r=a.fillOpacity(n),t=a.fillColor(n),this.svg.rect(o*s,i*s,s,s,{fill:t,"fill-opacity":r,stroke:a.STROKE_COLOR,"stroke-opacity":a.STROKE_OPACITY}),e+=1},c);function c(t,e){return i.call(this,t,e)||this}r.default=l},{"./pattern":13,"./util":20}],18:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),f=t("./util"),a=(i=s.default,o(p,i),p.buildRotatedTriangleShape=function(t,e){return[0,0,e,t/2,0,t,0,0].join(",")},p.prototype.generate=function(){var t,e,r,n,o,i=f.map(f.hexVal(this.hash,0),0,15,5,40),s=i*Math.sqrt(3),a=2*i,l=i/2*Math.sqrt(3),c=p.buildRotatedTriangleShape(i,l),u=3*i+2*l,h=2*s+2*i;for(this.svg.setWidth(u),this.svg.setHeight(h),e=0;e<20;e++)switch(o=f.hexVal(this.hash,e),r=f.fillOpacity(o),t=f.fillColor(o),n={stroke:f.STROKE_COLOR,"stroke-opacity":f.STROKE_OPACITY,fill:t,"fill-opacity":r,"stroke-width":1},e){case 0:this.svg.rect(-i/2,-i/2,i,i,n),this.svg.rect(u-i/2,-i/2,i,i,n),this.svg.rect(-i/2,h-i/2,i,i,n),this.svg.rect(u-i/2,h-i/2,i,i,n);break;case 1:this.svg.rect(a/2+l,s/2,i,i,n);break;case 2:this.svg.rect(-i/2,h/2-i/2,i,i,n),this.svg.rect(u-i/2,h/2-i/2,i,i,n);break;case 3:this.svg.rect(a/2+l,1.5*s+i,i,i,n);break;case 4:this.svg.polyline(c,n).transform({translate:[i/2,-i/2],rotate:[0,i/2,l/2]}),this.svg.polyline(c,n).transform({translate:[i/2,h- -i/2],rotate:[0,i/2,l/2],scale:[1,-1]});break;case 5:this.svg.polyline(c,n).transform({translate:[u-i/2,-i/2],rotate:[0,i/2,l/2],scale:[-1,1]}),this.svg.polyline(c,n).transform({translate:[u-i/2,h+i/2],rotate:[0,i/2,l/2],scale:[-1,-1]});break;case 6:this.svg.polyline(c,n).transform({translate:[u/2+i/2,s/2]});break;case 7:this.svg.polyline(c,n).transform({translate:[u-u/2-i/2,s/2],scale:[-1,1]});break;case 8:this.svg.polyline(c,n).transform({translate:[u/2+i/2,h-s/2],scale:[1,-1]});break;case 9:this.svg.polyline(c,n).transform({translate:[u-u/2-i/2,h-s/2],scale:[-1,-1]});break;case 10:this.svg.polyline(c,n).transform({translate:[i/2,h/2-i/2]});break;case 11:this.svg.polyline(c,n).transform({translate:[u-i/2,h/2-i/2],scale:[-1,1]});break;case 12:this.svg.rect(0,0,i,i,n).transform({translate:[i/2,i/2],rotate:[-30,0,0]});break;case 13:this.svg.rect(0,0,i,i,n).transform({scale:[-1,1],translate:[i/2-u,i/2],rotate:[-30,0,0]});break;case 14:this.svg.rect(0,0,i,i,n).transform({translate:[i/2,h/2-i/2-i],rotate:[30,0,i]});break;case 15:this.svg.rect(0,0,i,i,n).transform({scale:[-1,1],translate:[i/2-u,h/2-i/2-i],rotate:[30,0,i]});break;case 16:this.svg.rect(0,0,i,i,n).transform({scale:[1,-1],translate:[i/2,h/2-h-i/2-i],rotate:[30,0,i]});break;case 17:this.svg.rect(0,0,i,i,n).transform({scale:[-1,-1],translate:[i/2-u,h/2-h-i/2-i],rotate:[30,0,i]});break;case 18:this.svg.rect(0,0,i,i,n).transform({scale:[1,-1],translate:[i/2,i/2-h],rotate:[-30,0,0]});break;case 19:this.svg.rect(0,0,i,i,n).transform({scale:[-1,-1],translate:[i/2-u,i/2-h],rotate:[-30,0,0]})}},p);function p(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],19:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),h=t("./util"),a=(i=s.default,o(f,i),f.buildTriangleShape=function(t,e){var r=t/2;return[r,0,t,e,0,e,r,0].join(",")},f.prototype.generate=function(){var t,e,r,n,o,i,s,a=h.hexVal(this.hash,0),l=h.map(a,0,15,15,80),c=l/2*Math.sqrt(3),u=f.buildTriangleShape(l,c);for(this.svg.setWidth(3*l),this.svg.setHeight(6*c),s=t=0;s<6;s++)for(i=0;i<6;i++)o=h.hexVal(this.hash,t),e=h.fillOpacity(o),n={fill:h.fillColor(o),"fill-opacity":e,stroke:h.STROKE_COLOR,"stroke-opacity":h.STROKE_OPACITY},r=s%2==0?i%2==0?180:0:i%2!=0?180:0,this.svg.polyline(u,n).transform({translate:[i*l*.5-l/2,c*s],rotate:[r,l/2,c/2]}),0===i&&this.svg.polyline(u,n).transform({translate:[6*l*.5-l/2,c*s],rotate:[r,l/2,c/2]}),t+=1},f);function f(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],20:[function(t,e,r){"use strict";function n(t,e,r,n,o){return(("number"==typeof t?t:parseFloat(t))-e)*(o-n)/(r-e)+n}Object.defineProperty(r,"__esModule",{value:!0}),r.fillOpacity=r.fillColor=r.map=r.hexVal=r.OPACITY_MAX=r.OPACITY_MIN=r.STROKE_OPACITY=r.STROKE_COLOR=r.FILL_COLOR_LIGHT=r.FILL_COLOR_DARK=void 0,r.FILL_COLOR_DARK="#222",r.FILL_COLOR_LIGHT="#ddd",r.STROKE_COLOR="#000",r.STROKE_OPACITY=.02,r.OPACITY_MIN=.02,r.OPACITY_MAX=.15,r.hexVal=function(t,e,r){return parseInt(t.substr(e,r||1),16)},r.map=n,r.fillColor=function(t){return t%2==0?r.FILL_COLOR_LIGHT:r.FILL_COLOR_DARK},r.fillOpacity=function(t){return n(t,0,15,r.OPACITY_MIN,r.OPACITY_MAX)}},{}],21:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./pattern"),u=t("./util"),a=(i=s.default,o(h,i),h.prototype.generate=function(){var t,e,r,n,o,i,s,a=u.map(u.hexVal(this.hash,0),0,15,10,25),l=h.buildPlusShape(a),c=3*a*.943;for(this.svg.setWidth(3*c),this.svg.setHeight(3*c),s=e=0;s<6;s++)for(i=0;i<6;i++)o=u.hexVal(this.hash,e),r=u.fillOpacity(o),t=i%2==0?s*c-.5*c:s*c-.5*c+c/4,n={fill:u.fillColor(o),opacity:r},this.svg.group(n).transform({translate:[i*c/2-c/2,t-s*c/2],rotate:[45,c/2,c/2]}).rect(l).end(),0===i&&this.svg.group(n).transform({translate:[6*c/2-c/2,t-s*c/2],rotate:[45,c/2,c/2]}).rect(l).end(),0===s&&(t=i%2==0?6*c-c/2:6*c-c/2+c/4,this.svg.group(n).transform({translate:[i*c/2-c/2,t-6*c/2],rotate:[45,c/2,c/2]}).rect(l).end()),5===s&&this.svg.group(n).transform({translate:[i*c/2-c/2,t-11*c/2],rotate:[45,c/2,c/2]}).rect(l).end(),0===i&&0===s&&this.svg.group(n).transform({translate:[6*c/2-c/2,t-6*c/2],rotate:[45,c/2,c/2]}).rect(l).end(),e++},h);function h(t,e){return i.call(this,t,e)||this}r.default=a},{"./pattern":13,"./util":20}],22:[function(t,e,r){"use strict";function n(){var u=1732584193,h=4023233417,f=2562383102,p=271733878,v=3285377520,g=new Uint32Array(80),d=0,e=24,n=0;function r(){for(var t=16;t<80;t++){var e=g[t-3]^g[t-8]^g[t-14]^g[t-16];g[t]=e<<1|e>>>31}for(var r,n,o=u,i=h,s=f,a=p,l=v,t=0;t<80;t++){n=t<20?(r=a^i&(s^a),1518500249):t<40?(r=i^s^a,1859775393):t<60?(r=i&s|a&(i|s),2400959708):(r=i^s^a,3395469782);var c=(o<<5|o>>>27)+r+l+n+(0|g[t]),l=a,a=s,s=i<<30|i>>>2,i=o,o=c}u=u+o|0,h=h+i|0,f=f+s|0,p=p+a|0,v=v+l|0;for(t=d=0;t<16;t++)g[t]=0}function o(t){g[d]|=(255&t)<<e,e?e-=8:(d++,e=24),16===d&&r()}function i(t){for(var e="",r=28;0<=r;r-=4)e+=(t>>r&15).toString(16);return e}return{update:function(t){if("string"==typeof t)return function(t){var e=t.length;n+=8*e;for(var r=0;r<e;r++)o(t.charCodeAt(r))}(t);var e=t.length;n+=8*e;for(var r=0;r<e;r++)o(t[r])},digest:function(){o(128),(14<d||14===d&&e<24)&&r(),d=14,e=24,o(0),o(0),o(0xffffffffff<n?n/1099511627776:0),o(4294967295<n?n/4294967296:0);for(var t=24;0<=t;t-=8)o(n>>t);return i(u)+i(h)+i(f)+i(p)+i(v)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=n();return e.update(t),e.digest()}},{}],23:[function(t,e,r){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./xmlnode"),n=(l.setAttributes=function(e,r){Object.keys(r).forEach(function(t){e.setAttribute(t,r[t])})},l.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},l.prototype.end=function(){return this.context.pop(),this},l.prototype.currentNode=function(){var t=this.currentContext();return t.lastChild||t},l.prototype.transform=function(e){return this.currentNode().setAttribute("transform",Object.keys(e).map(function(t){return t+"("+e[t].join(",")+")"}).join(" ")),this},l.prototype.setWidth=function(t){this.svg.setAttribute("width",Math.floor(t))},l.prototype.setHeight=function(t){this.svg.setAttribute("height",Math.floor(t))},l.prototype.toString=function(){return this.svg.toString()},l.prototype.rect=function(t,e,r,n,o){var i=this;if(Array.isArray(t))return t.forEach(function(t){i.rect.apply(i,[].concat(t).concat(o))}),this;var s=this.newChild("rect");return l.setAttributes(s,a({x:t,y:e,width:r,height:n},o)),this},l.prototype.circle=function(t,e,r,n){var o=new i.default("circle");return this.currentContext().appendChild(o),l.setAttributes(o,a({cx:t,cy:e,r:r},n)),this},l.prototype.path=function(t,e){var r=this.newChild("path");return l.setAttributes(r,a({d:t},e)),this},l.prototype.polyline=function(t,e){var r=this;if(Array.isArray(t))return t.forEach(function(t){r.polyline(t,e)}),this;var n=this.newChild("polyline");return l.setAttributes(n,a({points:t},e)),this},l.prototype.group=function(t){var e=this.newChild("g");return this.context.push(e),l.setAttributes(e,a({},t)),this},l.prototype.newChild=function(t){var e=new i.default(t);return this.currentContext().appendChild(e),e},l);function l(){this.width=100,this.height=100,this.svg=new i.default("svg"),this.context=[],l.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height})}r.default=n},{"./xmlnode":24}],24:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(Object.defineProperty(o.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]},enumerable:!1,configurable:!0}),o.prototype.appendChild=function(t){this.children.push(t)},o.prototype.setAttribute=function(t,e){this.attributes[t]=e},o.prototype.toString=function(){var e=this;return["<",this.tagName,Object.keys(this.attributes).map(function(t){return[" ",t,'="',e.attributes[t],'"'].join("")}).join(""),">",this.children.map(function(t){return t.toString()}).join(""),"</",this.tagName,">"].join("")},o);function o(t){this.tagName=t,this.attributes=Object.create(null),this.children=[]}r.default=n},{}],25:[function(t,e,r){},{}],26:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./pattern-generator");function o(r){return function(t,e){return"object"==typeof t&&(e=t,t=null),null==t&&(t=(new Date).toString()),e=e||{},r.call(this,t,e)}}var i,s={generate:o(function(t,e){return new n.default(t,e).Pattern})};r.default=s,(i="undefined"!=typeof jQuery?jQuery:null)&&(i.fn.geopattern=o(function(r,n){return this.each(function(){var t=i(this).attr("data-title-sha");t&&(n=i.extend({hash:t},n));var e=s.generate(r,n);i(this).css("background-image",e.toDataUrl())})}))},{"./pattern-generator":2}]},{},[26])(26)});
