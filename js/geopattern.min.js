!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).GeoPattern=t()}(function(){return function s(i,a,l){function u(e,t){if(!a[e]){if(!i[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};i[e][0].call(o.exports,function(t){return u(i[e][1][t]||t)},o,o.exports,s,i,a,l)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rgb2rgbString=r.hsl2rgb=r.rgb2hsl=r.rgb2hex=r.hex2rgb=void 0,r.hex2rgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,n){return e+e+r+r+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},r.rgb2hex=function(e){return"#"+["r","g","b"].map(function(t){return("0"+e[t].toString(16)).slice(-2)}).join("")},r.rgb2hsl=function(t){var e=t.r,r=t.g,n=t.b;e/=255,r/=255,n/=255;var o,s=Math.max(e,r,n),i=Math.min(e,r,n),a=(s+i)/2;if(s===i)o=u=0;else{var l=s-i,u=.5<a?l/(2-s-i):l/(s+i);switch(s){case e:o=(r-n)/l+(r<n?6:0);break;case r:o=(n-e)/l+2;break;case n:o=(e-r)/l+4}o/=6}return{h:o,s:u,l:a}},r.hsl2rgb=function(t){function e(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var r,n,o,s,i,a=t.h,l=t.s,u=t.l;return 0===l?o=s=i=u:(o=e(n=2*u-(r=u<.5?u*(1+l):u+l-u*l),r,a+1/3),s=e(n,r,a),i=e(n,r,a-1/3)),{r:Math.round(255*o),g:Math.round(255*s),b:Math.round(255*i)}},r.rgb2rgbString=function(t){return"rgb("+t.r+","+t.g+","+t.b+")"}},{}],2:[function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var o=t("./sha1"),s=t("./patterns/util"),i=t("./patterns"),a={octogons:i.Octogons,overlappingCircles:i.OverlappingCircles,plusSigns:i.PlusSigns,xes:i.Xes,sineWaves:i.SineWaves,hexagons:i.Hexagons,overlappingRings:i.OverlappingRings,plaid:i.Plaid,triangles:i.Triangles,squares:i.Squares,concentricCircles:i.ConcentricCircles,diamonds:i.Diamonds,tessellation:i.Tessellation,nestedSquares:i.NestedSquares,mosaicSquares:i.MosaicSquares,chevrons:i.Chevrons},l=(Object.defineProperty(u.prototype,"Pattern",{get:function(){return this.pattern},enumerable:!1,configurable:!0}),u);function u(t,e){(e=n({},e)).hash=e.hash||o.default(t);var r=e.generator;if(r){if(Object.keys(a).indexOf(r)<0)throw new Error("The generator "+r+"  does not exist.")}else r=Object.keys(a)[s.hexVal(e.hash,20)];this.pattern=new a[r](t,e),this.pattern.generate()}r.default=l;var c=t("./patterns");Object.defineProperty(r,"Pattern",{enumerable:!0,get:function(){return c.Pattern}})},{"./patterns":3,"./patterns/util":21,"./sha1":22}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Xes=r.Triangles=r.Tessellation=r.Squares=r.SineWaves=r.PlusSigns=r.Plaid=r.OverlappingRings=r.OverlappingCircles=r.Octogons=r.NestedSquares=r.MosaicSquares=r.Hexagons=r.Diamonds=r.ConcentricCircles=r.Chevrons=r.Pattern=void 0;var n=t("./structure_generators/chevrons");r.Chevrons=n.default;var o=t("./structure_generators/concentric-circles");r.ConcentricCircles=o.default;var s=t("./structure_generators/diamonds");r.Diamonds=s.default;var i=t("./structure_generators/hexagons");r.Hexagons=i.default;var a=t("./structure_generators/mosaic-squares");r.MosaicSquares=a.default;var l=t("./structure_generators/nested-squares");r.NestedSquares=l.default;var u=t("./structure_generators/octogons");r.Octogons=u.default;var c=t("./structure_generators/overlapping-circles");r.OverlappingCircles=c.default;var h=t("./structure_generators/overlapping-rings");r.OverlappingRings=h.default;var f=t("./pattern");r.Pattern=f.default;var p=t("./structure_generators/plaid");r.Plaid=p.default;var v=t("./structure_generators/plus-signs");r.PlusSigns=v.default;var g=t("./structure_generators/sine-waves");r.SineWaves=g.default;var d=t("./structure_generators/squares");r.Squares=d.default;var _=t("./structure_generators/tessellation");r.Tessellation=_.default;var y=t("./structure_generators/triangles");r.Triangles=y.default;var O=t("./structure_generators/xes");r.Xes=O.default},{"./pattern":4,"./structure_generators/chevrons":5,"./structure_generators/concentric-circles":6,"./structure_generators/diamonds":7,"./structure_generators/hexagons":8,"./structure_generators/mosaic-squares":9,"./structure_generators/nested-squares":10,"./structure_generators/octogons":11,"./structure_generators/overlapping-circles":12,"./structure_generators/overlapping-rings":13,"./structure_generators/plaid":14,"./structure_generators/plus-signs":15,"./structure_generators/sine-waves":16,"./structure_generators/squares":17,"./structure_generators/tessellation":18,"./structure_generators/triangles":19,"./structure_generators/xes":20}],4:[function(u,t,c){(function(r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0});var o=u("../color"),s=u("../sha1"),i=u("./util"),a=u("../svg"),l={baseColor:"#933c3c"},t=(e.buildPlusShape=function(t){return[[t,0,t,3*t],[0,t,3*t,t]]},e.prototype.toSvg=function(){return this.svg.toString()},e.prototype.toString=function(){return this.toSvg()},e.prototype.toBase64=function(){var t=this.toSvg(),e="undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(t):new r(t).toString("base64");return e},e.prototype.toDataUri=function(){return"data:image/svg+xml;base64,"+this.toBase64()},e.prototype.toDataUrl=function(){return'url("'+this.toDataUri()+'")'},e.prototype.generateBackground=function(){var t,e,r,n=this.opts.color?o.hex2rgb(this.opts.color):(e=i.map(i.hexVal(this.hash,14,3),0,4095,0,359),r=i.hexVal(this.hash,17),(t=o.rgb2hsl(o.hex2rgb(this.opts.baseColor))).h=(360*t.h-e+360)%360/360,t.s=r%2==0?Math.min(1,(100*t.s+r)/100):Math.max(0,(100*t.s-r)/100),o.hsl2rgb(t));this.color=o.rgb2hex(n),this.svg.rect(0,0,"100%","100%",{fill:o.rgb2rgbString(n)})},e);function e(t,e){this.opts=n(n({},l),e),this.hash=this.opts.hash||s.default(t),this.svg=new a.default,this.generateBackground()}c.default=t}).call(this,u("buffer").Buffer)},{"../color":1,"../sha1":22,"../svg":23,"./util":21,buffer:25}],5:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),c=t("../util"),a=(s=i.default,o(h,s),h.buildChevronShape=function(t,e){var r=.66*e;return[[0,0,t/2,e-r,t/2,e,0,r,0,0],[t/2,e-r,t,0,t,r,t/2,e,t/2,e-r]].map(function(t){return t.join(",")})},h.prototype.generate=function(){var t=c.map(c.hexVal(this.hash,0),0,15,30,80),e=c.map(c.hexVal(this.hash,0),0,15,30,80),r=h.buildChevronShape(t,e);this.svg.setWidth(6*t),this.svg.setHeight(6*e*.66);for(var n=0,o=0;o<6;o++)for(var s=0;s<6;s++){var i=c.hexVal(this.hash,n),a=c.fillOpacity(i),l=c.fillColor(i),u={stroke:c.STROKE_COLOR,"stroke-opacity":c.STROKE_OPACITY,fill:l,"fill-opacity":a,"stroke-width":1};this.svg.group(u).transform({translate:[s*t,o*e*.66-e/2]}).polyline(r).end(),0===o&&this.svg.group(u).transform({translate:[s*t,6*e*.66-e/2]}).polyline(r).end(),n+=1}},h);function h(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],6:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),u=t("../util"),a=(s=i.default,o(l,s),l.prototype.generate=function(){var t=u.hexVal(this.hash,0),e=u.map(t,0,15,10,60),r=e/5;this.svg.setWidth(6*(e+r)),this.svg.setHeight(6*(e+r));for(var n=0,o=0;o<6;o++)for(var s=0;s<6;s++){var i=u.hexVal(this.hash,n),a=u.fillOpacity(i),l=u.fillColor(i);this.svg.circle(s*e+s*r+(e+r)/2,o*e+o*r+(e+r)/2,e/2,{fill:"none",stroke:l,opacity:a,"stroke-width":r+"px"}),i=u.hexVal(this.hash,39-n),a=u.fillOpacity(i),l=u.fillColor(i),this.svg.circle(s*e+s*r+(e+r)/2,o*e+o*r+(e+r)/2,e/4,{fill:l,"fill-opacity":a}),n+=1}},l);function l(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],7:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),c=t("../util"),a=(s=i.default,o(h,s),h.buildDiamondShape=function(t,e){return[t/2,0,t,e/2,t/2,e,0,e/2].join(",")},h.prototype.generate=function(){var t=c.map(c.hexVal(this.hash,0),0,15,10,50),e=c.map(c.hexVal(this.hash,1),0,15,10,50),r=h.buildDiamondShape(t,e);this.svg.setWidth(6*t),this.svg.setHeight(3*e);for(var n=0,o=0;o<6;o++)for(var s=0;s<6;s++){var i=c.hexVal(this.hash,n),a=c.fillOpacity(i),l={fill:c.fillColor(i),"fill-opacity":a,stroke:c.STROKE_COLOR,"stroke-opacity":c.STROKE_OPACITY},u=o%2==0?0:t/2;this.svg.polyline(r,l).transform({translate:[s*t-t/2+u,e/2*o-e/2]}),0===s&&this.svg.polyline(r,l).transform({translate:[6*t-t/2+u,e/2*o-e/2]}),0===o&&this.svg.polyline(r,l).transform({translate:[s*t-t/2+u,e/2*6-e/2]}),0===s&&0===o&&this.svg.polyline(r,l).transform({translate:[6*t-t/2+u,e/2*6-e/2]}),n+=1}},h);function h(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],8:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),f=t("../util"),a=(s=i.default,o(p,s),p.buildHexagonShape=function(t){var e=t,r=e/2,n=Math.sin(60*Math.PI/180)*e;return[0,n,r,0,r+e,0,2*e,n,r+e,2*n,r,2*n,0,n].join(",")},p.prototype.generate=function(){var t=f.hexVal(this.hash,0),e=f.map(t,0,15,8,60),r=e*Math.sqrt(3),n=2*e,o=p.buildHexagonShape(e);this.svg.setWidth(3*n+3*e),this.svg.setHeight(6*r);for(var s=0,i=0;i<6;i++)for(var a=0;a<6;a++){var l=f.hexVal(this.hash,s),u=a%2==0?i*r:i*r+r/2,c=f.fillOpacity(l),h={fill:f.fillColor(l),"fill-opacity":c,stroke:f.STROKE_COLOR,"stroke-opacity":f.STROKE_OPACITY};this.svg.polyline(o,h).transform({translate:[a*e*1.5-n/2,u-r/2]}),0===a&&this.svg.polyline(o,h).transform({translate:[6*e*1.5-n/2,u-r/2]}),0===i&&(u=a%2==0?6*r:6*r+r/2,this.svg.polyline(o,h).transform({translate:[a*e*1.5-n/2,u-r/2]})),0===a&&0===i&&this.svg.polyline(o,h).transform({translate:[6*e*1.5-n/2,5*r+r/2]}),s++}},p);function p(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],9:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),u=t("../util"),a=(s=i.default,o(c,s),c.buildRightTriangleShape=function(t){return[0,0,t,t,0,t,0,0].join(",")},c.drawOuterMosaicTile=function(t,e,r,n,o){var s=u.fillOpacity(o),i=u.fillColor(o),a=c.buildRightTriangleShape(n),l={stroke:u.STROKE_COLOR,"stroke-opacity":u.STROKE_OPACITY,"fill-opacity":s,fill:i};t.polyline(a,l).transform({translate:[e,r+n],scale:[1,-1]}),t.polyline(a,l).transform({translate:[e+2*n,r+n],scale:[-1,-1]}),t.polyline(a,l).transform({translate:[e,r+n],scale:[1,1]}),t.polyline(a,l).transform({translate:[e+2*n,r+n],scale:[-1,1]})},c.drawInnerMosaicTile=function(t,e,r,n,o){var s=c.buildRightTriangleShape(n),i=u.fillOpacity(o[0]),a=u.fillColor(o[0]),l={stroke:u.STROKE_COLOR,"stroke-opacity":u.STROKE_OPACITY,"fill-opacity":i,fill:a};t.polyline(s,l).transform({translate:[e+n,r],scale:[-1,1]}),t.polyline(s,l).transform({translate:[e+n,r+2*n],scale:[1,-1]}),i=u.fillOpacity(o[1]),a=u.fillColor(o[1]),l={stroke:u.STROKE_COLOR,"stroke-opacity":u.STROKE_OPACITY,"fill-opacity":i,fill:a},t.polyline(s,l).transform({translate:[e+n,r+2*n],scale:[-1,-1]}),t.polyline(s,l).transform({translate:[e+n,r],scale:[1,1]})},c.prototype.generate=function(){var t=u.map(u.hexVal(this.hash,0),0,15,15,50);this.svg.setWidth(8*t),this.svg.setHeight(8*t);for(var e=0,r=0;r<4;r++)for(var n=0;n<4;n++)n%2==0?r%2==0?c.drawOuterMosaicTile(this.svg,n*t*2,r*t*2,t,u.hexVal(this.hash,e)):c.drawInnerMosaicTile(this.svg,n*t*2,r*t*2,t,[u.hexVal(this.hash,e),u.hexVal(this.hash,e+1)]):r%2==0?c.drawInnerMosaicTile(this.svg,n*t*2,r*t*2,t,[u.hexVal(this.hash,e),u.hexVal(this.hash,e+1)]):c.drawOuterMosaicTile(this.svg,n*t*2,r*t*2,t,u.hexVal(this.hash,e)),e+=1},c);function c(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],10:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),u=t("../util"),a=(s=i.default,o(l,s),l.prototype.generate=function(){var t=u.map(u.hexVal(this.hash,0),0,15,4,12),e=7*t;this.svg.setWidth(6*(e+t)+6*t),this.svg.setHeight(6*(e+t)+6*t);for(var r=0,n=0;n<6;n++)for(var o=0;o<6;o++){var s=u.hexVal(this.hash,r),i=u.fillOpacity(s),a=u.fillColor(s),l={fill:"none",stroke:a,opacity:i,"stroke-width":t+"px"};this.svg.rect(o*e+o*t*2+t/2,n*e+n*t*2+t/2,e,e,l),s=u.hexVal(this.hash,39-r),i=u.fillOpacity(s),l={fill:"none",stroke:a=u.fillColor(s),opacity:i,"stroke-width":t+"px"},this.svg.rect(o*e+o*t*2+t/2+2*t,n*e+n*t*2+t/2+2*t,3*t,3*t,l),r+=1}},l);function l(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],11:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),l=t("../util"),a=(s=i.default,o(u,s),u.buildOctogonShape=function(t){var e=.33*t;return[e,0,t-e,0,t,e,t,t-e,t-e,t,e,t,0,t-e,0,e,e,0].join(",")},u.prototype.generate=function(){var t=l.map(l.hexVal(this.hash,0),0,15,10,60),e=u.buildOctogonShape(t);this.svg.setWidth(6*t),this.svg.setHeight(6*t);for(var r=0,n=0;n<6;n++)for(var o=0;o<6;o++){var s=l.hexVal(this.hash,r),i=l.fillOpacity(s),a=l.fillColor(s);this.svg.polyline(e,{fill:a,"fill-opacity":i,stroke:l.STROKE_COLOR,"stroke-opacity":l.STROKE_OPACITY}).transform({translate:[o*t,n*t]}),r+=1}},u);function u(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],12:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),l=t("../util"),a=(s=i.default,o(u,s),u.prototype.generate=function(){var t=l.hexVal(this.hash,0),e=l.map(t,0,15,25,200)/2;this.svg.setWidth(6*e),this.svg.setHeight(6*e);for(var r=0,n=0;n<6;n++)for(var o=0;o<6;o++){var s=l.hexVal(this.hash,r),i=l.fillOpacity(s),a={fill:l.fillColor(s),opacity:i};this.svg.circle(o*e,n*e,e,a),0===o&&this.svg.circle(6*e,n*e,e,a),0===n&&this.svg.circle(o*e,6*e,e,a),0===o&&0===n&&this.svg.circle(6*e,6*e,e,a),r++}},u);function u(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],13:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),u=t("../util"),a=(s=i.default,o(l,s),l.prototype.generate=function(){var t=u.hexVal(this.hash,0),e=u.map(t,0,15,10,60),r=e/4;this.svg.setWidth(6*e),this.svg.setHeight(6*e);for(var n=0,o=0;o<6;o++)for(var s=0;s<6;s++){var i=u.hexVal(this.hash,n),a=u.fillOpacity(i),l={fill:"none",stroke:u.fillColor(i),opacity:a,"stroke-width":r+"px"};this.svg.circle(s*e,o*e,e-r/2,l),0===s&&this.svg.circle(6*e,o*e,e-r/2,l),0===o&&this.svg.circle(s*e,6*e,e-r/2,l),0===s&&0===o&&this.svg.circle(6*e,6*e,e-r/2,l),n+=1}},l);function l(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],14:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),l=t("../util"),a=(s=i.default,o(u,s),u.prototype.generate=function(){for(var t=0,e=0,r=0;r<36;){t+=l.hexVal(this.hash,r)+5;var n=l.hexVal(this.hash,r+1),o=l.fillOpacity(n),s=l.fillColor(n),i=n+5;this.svg.rect(0,t,"100%",i,{opacity:o,fill:s}),t+=i,r+=2}for(r=0;r<36;){e+=l.hexVal(this.hash,r)+5;var n=l.hexVal(this.hash,r+1),o=l.fillOpacity(n),s=l.fillColor(n),a=n+5;this.svg.rect(e,0,a,"100%",{opacity:o,fill:s}),e+=a,r+=2}this.svg.setWidth(e),this.svg.setHeight(t)},u);function u(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],15:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),c=t("../util"),a=(s=i.default,o(h,s),h.prototype.generate=function(){var t=c.map(c.hexVal(this.hash,0),0,15,10,25),e=3*t,r=h.buildPlusShape(t);this.svg.setWidth(12*t),this.svg.setHeight(12*t);for(var n=0,o=0;o<6;o++)for(var s=0;s<6;s++){var i=c.hexVal(this.hash,n),a=c.fillOpacity(i),l=o%2==0?0:1,u={fill:c.fillColor(i),stroke:c.STROKE_COLOR,"stroke-opacity":c.STROKE_OPACITY,"fill-opacity":a};this.svg.group(u).transform({translate:[s*e-s*t+l*t-t,o*e-o*t-e/2]}).rect(r).end(),0===s&&this.svg.group(u).transform({translate:[4*e-s*t+l*t-t,o*e-o*t-e/2]}).rect(r).end(),0===o&&this.svg.group(u).transform({translate:[s*e-s*t+l*t-t,4*e-o*t-e/2]}).rect(r).end(),0===s&&0===o&&this.svg.group(u).transform({translate:[4*e-s*t+l*t-t,4*e-o*t-e/2]}).rect(r).end(),n++}},h);function h(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],16:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),u=t("../util"),a=(s=i.default,o(l,s),l.prototype.generate=function(){var t=Math.floor(u.map(u.hexVal(this.hash,0),0,15,100,400)),e=Math.floor(u.map(u.hexVal(this.hash,1),0,15,30,100)),r=Math.floor(u.map(u.hexVal(this.hash,2),0,15,3,30));this.svg.setWidth(t),this.svg.setHeight(36*r);for(var n=0;n<36;n++){var o=u.hexVal(this.hash,n),s=u.fillOpacity(o),i=t/4*.7,a={fill:"none",stroke:u.fillColor(o),opacity:s,"stroke-width":r+"px"},l=["M0 "+e,"C "+i+" 0, "+(t/2-i)+" 0, "+t/2+" "+e,"S "+(t-i)+" "+2*e+", "+t+" "+e,"S "+(1.5*t-i)+" 0, "+1.5*t+", "+e].join(" ");this.svg.path(l,a).transform({translate:[-t/4,r*n-1.5*e]}),this.svg.path(l,a).transform({translate:[-t/4,r*n-1.5*e+36*r]})}},l);function l(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],17:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),a=t("../util"),l=(s=i.default,o(u,s),u.prototype.generate=function(){var t=a.map(a.hexVal(this.hash,0),0,15,10,60);this.svg.setWidth(6*t),this.svg.setHeight(6*t);for(var e=0,r=0;r<6;r++)for(var n=0;n<6;n++){var o=a.hexVal(this.hash,e),s=a.fillOpacity(o),i=a.fillColor(o);this.svg.rect(n*t,r*t,t,t,{fill:i,"fill-opacity":s,stroke:a.STROKE_COLOR,"stroke-opacity":a.STROKE_OPACITY}),e+=1}},u);function u(t,e){return s.call(this,t,e)||this}r.default=l},{"../pattern":4,"../util":21}],18:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),f=t("../util"),a=(s=i.default,o(p,s),p.buildRotatedTriangleShape=function(t,e){return[0,0,e,t/2,0,t,0,0].join(",")},p.prototype.generate=function(){var t,e,r,n,o,s=f.map(f.hexVal(this.hash,0),0,15,5,40),i=s*Math.sqrt(3),a=2*s,l=s/2*Math.sqrt(3),u=p.buildRotatedTriangleShape(s,l),c=3*s+2*l,h=2*i+2*s;for(this.svg.setWidth(c),this.svg.setHeight(h),e=0;e<20;e++)switch(o=f.hexVal(this.hash,e),r=f.fillOpacity(o),t=f.fillColor(o),n={stroke:f.STROKE_COLOR,"stroke-opacity":f.STROKE_OPACITY,fill:t,"fill-opacity":r,"stroke-width":1},e){case 0:this.svg.rect(-s/2,-s/2,s,s,n),this.svg.rect(c-s/2,-s/2,s,s,n),this.svg.rect(-s/2,h-s/2,s,s,n),this.svg.rect(c-s/2,h-s/2,s,s,n);break;case 1:this.svg.rect(a/2+l,i/2,s,s,n);break;case 2:this.svg.rect(-s/2,h/2-s/2,s,s,n),this.svg.rect(c-s/2,h/2-s/2,s,s,n);break;case 3:this.svg.rect(a/2+l,1.5*i+s,s,s,n);break;case 4:this.svg.polyline(u,n).transform({translate:[s/2,-s/2],rotate:[0,s/2,l/2]}),this.svg.polyline(u,n).transform({translate:[s/2,h- -s/2],rotate:[0,s/2,l/2],scale:[1,-1]});break;case 5:this.svg.polyline(u,n).transform({translate:[c-s/2,-s/2],rotate:[0,s/2,l/2],scale:[-1,1]}),this.svg.polyline(u,n).transform({translate:[c-s/2,h+s/2],rotate:[0,s/2,l/2],scale:[-1,-1]});break;case 6:this.svg.polyline(u,n).transform({translate:[c/2+s/2,i/2]});break;case 7:this.svg.polyline(u,n).transform({translate:[c-c/2-s/2,i/2],scale:[-1,1]});break;case 8:this.svg.polyline(u,n).transform({translate:[c/2+s/2,h-i/2],scale:[1,-1]});break;case 9:this.svg.polyline(u,n).transform({translate:[c-c/2-s/2,h-i/2],scale:[-1,-1]});break;case 10:this.svg.polyline(u,n).transform({translate:[s/2,h/2-s/2]});break;case 11:this.svg.polyline(u,n).transform({translate:[c-s/2,h/2-s/2],scale:[-1,1]});break;case 12:this.svg.rect(0,0,s,s,n).transform({translate:[s/2,s/2],rotate:[-30,0,0]});break;case 13:this.svg.rect(0,0,s,s,n).transform({scale:[-1,1],translate:[s/2-c,s/2],rotate:[-30,0,0]});break;case 14:this.svg.rect(0,0,s,s,n).transform({translate:[s/2,h/2-s/2-s],rotate:[30,0,s]});break;case 15:this.svg.rect(0,0,s,s,n).transform({scale:[-1,1],translate:[s/2-c,h/2-s/2-s],rotate:[30,0,s]});break;case 16:this.svg.rect(0,0,s,s,n).transform({scale:[1,-1],translate:[s/2,h/2-h-s/2-s],rotate:[30,0,s]});break;case 17:this.svg.rect(0,0,s,s,n).transform({scale:[-1,-1],translate:[s/2-c,h/2-h-s/2-s],rotate:[30,0,s]});break;case 18:this.svg.rect(0,0,s,s,n).transform({scale:[1,-1],translate:[s/2,s/2-h],rotate:[-30,0,0]});break;case 19:this.svg.rect(0,0,s,s,n).transform({scale:[-1,-1],translate:[s/2-c,s/2-h],rotate:[-30,0,0]})}},p);function p(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],19:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),h=t("../util"),a=(s=i.default,o(f,s),f.buildTriangleShape=function(t,e){var r=t/2;return[r,0,t,e,0,e,r,0].join(",")},f.prototype.generate=function(){var t=h.hexVal(this.hash,0),e=h.map(t,0,15,15,80),r=e/2*Math.sqrt(3),n=f.buildTriangleShape(e,r);this.svg.setWidth(3*e),this.svg.setHeight(6*r);for(var o=0,s=0;s<6;s++)for(var i=0;i<6;i++){var a=h.hexVal(this.hash,o),l=h.fillOpacity(a),u={fill:h.fillColor(a),"fill-opacity":l,stroke:h.STROKE_COLOR,"stroke-opacity":h.STROKE_OPACITY},c=void 0,c=s%2==0?i%2==0?180:0:i%2!=0?180:0;this.svg.polyline(n,u).transform({translate:[i*e*.5-e/2,r*s],rotate:[c,e/2,r/2]}),0===i&&this.svg.polyline(n,u).transform({translate:[6*e*.5-e/2,r*s],rotate:[c,e/2,r/2]}),o+=1}},f);function f(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],20:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s,i=t("../pattern"),c=t("../util"),a=(s=i.default,o(h,s),h.prototype.generate=function(){var t=c.map(c.hexVal(this.hash,0),0,15,10,25),e=h.buildPlusShape(t),r=3*t*.943;this.svg.setWidth(3*r),this.svg.setHeight(3*r);for(var n=0,o=0;o<6;o++)for(var s=0;s<6;s++){var i=c.hexVal(this.hash,n),a=c.fillOpacity(i),l=s%2==0?o*r-.5*r:o*r-.5*r+r/4,u={fill:c.fillColor(i),opacity:a};this.svg.group(u).transform({translate:[s*r/2-r/2,l-o*r/2],rotate:[45,r/2,r/2]}).rect(e).end(),0===s&&this.svg.group(u).transform({translate:[6*r/2-r/2,l-o*r/2],rotate:[45,r/2,r/2]}).rect(e).end(),0===o&&(l=s%2==0?6*r-r/2:6*r-r/2+r/4,this.svg.group(u).transform({translate:[s*r/2-r/2,l-6*r/2],rotate:[45,r/2,r/2]}).rect(e).end()),5===o&&this.svg.group(u).transform({translate:[s*r/2-r/2,l-11*r/2],rotate:[45,r/2,r/2]}).rect(e).end(),0===s&&0===o&&this.svg.group(u).transform({translate:[6*r/2-r/2,l-6*r/2],rotate:[45,r/2,r/2]}).rect(e).end(),n++}},h);function h(t,e){return s.call(this,t,e)||this}r.default=a},{"../pattern":4,"../util":21}],21:[function(t,e,r){"use strict";function n(t,e,r,n,o){return(("number"==typeof t?t:parseFloat(t))-e)*(o-n)/(r-e)+n}Object.defineProperty(r,"__esModule",{value:!0}),r.fillOpacity=r.fillColor=r.map=r.hexVal=r.OPACITY_MAX=r.OPACITY_MIN=r.STROKE_OPACITY=r.STROKE_COLOR=r.FILL_COLOR_LIGHT=r.FILL_COLOR_DARK=void 0,r.FILL_COLOR_DARK="#222",r.FILL_COLOR_LIGHT="#ddd",r.STROKE_COLOR="#000",r.STROKE_OPACITY=.02,r.OPACITY_MIN=.02,r.OPACITY_MAX=.15,r.hexVal=function(t,e,r){return parseInt(t.substr(e,r||1),16)},r.map=n,r.fillColor=function(t){return t%2==0?r.FILL_COLOR_LIGHT:r.FILL_COLOR_DARK},r.fillOpacity=function(t){return n(t,0,15,r.OPACITY_MIN,r.OPACITY_MAX)}},{}],22:[function(t,e,r){"use strict";function n(){var c=1732584193,h=4023233417,f=2562383102,p=271733878,v=3285377520,g=new Uint32Array(80),d=0,e=24,n=0;function r(){for(var t=16;t<80;t++){var e=g[t-3]^g[t-8]^g[t-14]^g[t-16];g[t]=e<<1|e>>>31}for(var r,n,o=c,s=h,i=f,a=p,l=v,t=0;t<80;t++){n=t<20?(r=a^s&(i^a),1518500249):t<40?(r=s^i^a,1859775393):t<60?(r=s&i|a&(s|i),2400959708):(r=s^i^a,3395469782);var u=(o<<5|o>>>27)+r+l+n+(0|g[t]),l=a,a=i,i=s<<30|s>>>2,s=o,o=u}c=c+o|0,h=h+s|0,f=f+i|0,p=p+a|0,v=v+l|0;for(t=d=0;t<16;t++)g[t]=0}function o(t){g[d]|=(255&t)<<e,e?e-=8:(d++,e=24),16===d&&r()}function s(t){for(var e="",r=28;0<=r;r-=4)e+=(t>>r&15).toString(16);return e}return{update:function(t){if("string"==typeof t)return function(t){var e=t.length;n+=8*e;for(var r=0;r<e;r++)o(t.charCodeAt(r))}(t);var e=t.length;n+=8*e;for(var r=0;r<e;r++)o(t[r])},digest:function(){o(128),(14<d||14===d&&e<24)&&r(),d=14,e=24,o(0),o(0),o(0xffffffffff<n?n/1099511627776:0),o(4294967295<n?n/4294967296:0);for(var t=24;0<=t;t-=8)o(n>>t);return s(c)+s(h)+s(f)+s(p)+s(v)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=n();return e.update(t),e.digest()}},{}],23:[function(t,e,r){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var s=arguments[e],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n};Object.defineProperty(r,"__esModule",{value:!0});var s=t("./xmlnode"),n=(u.setAttributes=function(e,r){Object.keys(r).forEach(function(t){e.setAttribute(t,r[t])})},u.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},u.prototype.end=function(){return this.context.pop(),this},u.prototype.currentNode=function(){var t=this.currentContext();return t.lastChild||t},u.prototype.transform=function(e){return this.currentNode().setAttribute("transform",Object.keys(e).map(function(t){return t+"("+e[t].join(",")+")"}).join(" ")),this},u.prototype.setWidth=function(t){this.svg.setAttribute("width",Math.floor(t))},u.prototype.setHeight=function(t){this.svg.setAttribute("height",Math.floor(t))},u.prototype.toString=function(){return this.svg.toString()},u.prototype.rect=function(t,e,r,n,o){var s=this;if(Array.isArray(t))return t.forEach(function(t){s.rect.apply(s,l(t,[e]))}),this;var i=this.newChild("rect");return u.setAttributes(i,a({x:t,y:e,width:r,height:n},o)),this},u.prototype.circle=function(t,e,r,n){var o=new s.default("circle");return this.currentContext().appendChild(o),u.setAttributes(o,a({cx:t,cy:e,r:r},n)),this},u.prototype.path=function(t,e){var r=this.newChild("path");return u.setAttributes(r,a({d:t},e)),this},u.prototype.polyline=function(t,e){var r=this;if(Array.isArray(t))return t.forEach(function(t){r.polyline(t,e)}),this;var n=this.newChild("polyline");return u.setAttributes(n,a({points:t},e)),this},u.prototype.group=function(t){var e=this.newChild("g");return this.context.push(e),u.setAttributes(e,a({},t)),this},u.prototype.newChild=function(t){var e=new s.default(t);return this.currentContext().appendChild(e),e},u);function u(){this.width=100,this.height=100,this.svg=new s.default("svg"),this.context=[],u.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height})}r.default=n},{"./xmlnode":24}],24:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(Object.defineProperty(o.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]},enumerable:!1,configurable:!0}),o.prototype.appendChild=function(t){this.children.push(t)},o.prototype.setAttribute=function(t,e){this.attributes[t]=e},o.prototype.toString=function(){var e=this;return["<"+this.tagName+Object.keys(this.attributes).map(function(t){return" "+t+'="'+e.attributes[t]+'"'}).join("")+">",this.children.map(function(t){return t.toString()}).join(""),"</"+this.tagName+">"].join("")},o);function o(t){this.tagName=t,this.attributes=Object.create(null),this.children=[]}r.default=n},{}],25:[function(t,e,r){},{}],26:[function(t,e,r){"use strict";var o=this;Object.defineProperty(r,"__esModule",{value:!0}),r.generate=void 0;var n=t("./pattern-generator");function s(r){return function(t,e){return"object"==typeof t&&(e=t,t=null),null==t&&(t=(new Date).toString()),r(t,e=e||{})}}var i,a={generate:s(function(t,e){return new n.default(t,e).Pattern})};r.generate=a.generate,(i="undefined"!=typeof jQuery?jQuery:null)&&(i.fn.geopattern=s(function(r,n){return o.each(function(){var t=i(o).attr("data-title-sha");t&&(n=i.extend({hash:t},n));var e=a.generate(r,n);i(o).css("background-image",e.toDataUrl())})}))},{"./pattern-generator":2}]},{},[26])(26)});
